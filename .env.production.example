# Node Banana - Production Environment Variables for Docker
# Copy this file to .env and fill in your values

# ===== Application =====
APP_PORT=3000
NODE_ENV=production

# Public URL for callbacks (VIDU needs this to notify your server)
# Replace with your actual public URL, e.g., https://your-domain.com
NEXT_PUBLIC_APP_URL=http://localhost:3000

# ===== MySQL Database =====
MYSQL_ROOT_PASSWORD=CHANGE_THIS_ROOT_PASSWORD
DB_HOST=mysql
DB_PORT=3306
DB_USER=node_banana
DB_PASSWORD=CHANGE_THIS_DB_PASSWORD
DB_NAME=node_banana
MYSQL_PORT=3306

# ===== JWT Authentication =====
JWT_SECRET=CHANGE_THIS_TO_RANDOM_STRONG_SECRET_MINIMUM_32_CHARACTERS
JWT_EXPIRES_IN=7d

# ===== Google Cloud / Gemini API =====
# Get your API key from: https://aistudio.google.com/app/apikey
GOOGLE_CLOUD_API_KEY=YOUR_GOOGLE_CLOUD_API_KEY

# ===== Cloudflare Worker Proxy =====
# Proxy for Vertex AI API requests
CLOUDFLARE_WORKER_URL=https://nano.mygogogo1.de5.net

# ===== Cloudflare R2 Storage =====
# Get credentials from: https://dash.cloudflare.com -> R2 -> Your Bucket -> Manage R2 API Tokens
R2_ACCOUNT_ID=YOUR_R2_ACCOUNT_ID
R2_ACCESS_KEY_ID=YOUR_R2_ACCESS_KEY_ID
R2_SECRET_ACCESS_KEY=YOUR_R2_SECRET_ACCESS_KEY
R2_BUCKET_NAME=YOUR_BUCKET_NAME

# ===== VIDU API =====
# VIDU API for video/image generation
# Get your API key from: https://api.vidu.cn/ent/v2
VIDU_API_KEY=YOUR_VIDU_API_KEY
VIDU_API_BASE_URL=https://api.vidu.cn/ent/v2

# ===== VIDU Callback Mode =====
# Choose ONE of the following modes:
#
# Option 1: Cloudflare Worker Callback (RECOMMENDED)
# Requirements:
#   1. Set CLOUDFLARE_WORKER_URL above (already configured)
#   2. Update Worker with code from cloudflare-worker-vidu-callback.js
#   3. In Cloudflare Dashboard, add environment variable:
#      VIDU_SERVER_URL=http://your-server-ip:port
#   4. Leave FORCE_VIDU_POLLING empty or set to 'false'
#
# Benefits:
#   - Real-time callback when task completes
#   - No need for public domain
#   - More efficient than polling
#
# Option 2: Force Polling Mode (Fallback)
# Requirements:
#   1. Set FORCE_VIDU_POLLING=true
#   2. Server will actively poll VIDU API every 2 seconds
#   3. No need for public URL or Worker configuration
#
# Use this when:
#   - Callback mode is not working
#   - Worker is unavailable
#   - Server has internet access but no public endpoint
# FORCE_VIDU_POLLING=true

# ===== OpenAI API (Optional) =====
# Only needed if using OpenAI as LLM provider
# Get your API key from: https://platform.openai.com/api-keys
# OPENAI_API_KEY=YOUR_OPENAI_API_KEY
